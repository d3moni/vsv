{% extends "base.html" %}
{% block title %}건의사항 상세{% endblock %}
{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/suggestion_detail.css') }}">
{% endblock %}
{% block content %}
<div class="suggestion-detail-container">
    <div class="suggestion-card">
        <h2>{{ suggestion.title }}</h2>

        <!-- 비밀 건의사항 -->
        {% if not suggestion.is_public %}
            {% if user.is_admin or user.id == suggestion.author_id %}
                <p class="secret-label">비밀 건의사항입니다</p>
                <p>{{ suggestion.content }}</p>
            {% else %}
                <p class="secret-label">비밀 건의사항입니다 (내용을 볼 수 없습니다)</p>
            {% endif %}
        {% else %}
            <p>{{ suggestion.content }}</p>
        {% endif %}

        <!-- 작성자 표시 -->
        <p class="author">
            {% if suggestion.is_anonymous %}
                {% if user.is_admin %}
                    익명 ({{ suggestion.author.username }}) <span class="admin-only">(관리자만)</span>
                {% elif user.id == suggestion.author_id %}
                    익명 (본인)
                {% else %}
                    익명
                {% endif %}
            {% else %}
                {{ suggestion.author.username }}
            {% endif %}
        </p>
    </div>
</div>
{% endblock %}
